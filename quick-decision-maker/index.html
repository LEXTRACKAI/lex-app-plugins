<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quick Decision Maker</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>Quick Decision Maker</h1>
            <p>AI-powered personal decision assistant</p>
        </header>

        <!-- Decision Input Form -->
        <div class="decision-form" id="decisionForm">
            <div class="form-group">
                <label for="decision">What decision are you making?</label>
                <input 
                    type="text" 
                    id="decision" 
                    placeholder="e.g., Should I take this new job offer?"
                    required
                >
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="pros">Pros (one per line)</label>
                    <textarea 
                        id="pros" 
                        placeholder="Higher salary&#10;Remote work&#10;Better benefits"
                        rows="5"
                    ></textarea>
                </div>

                <div class="form-group">
                    <label for="cons">Cons (one per line)</label>
                    <textarea 
                        id="cons" 
                        placeholder="Longer hours&#10;Unknown team&#10;Less vacation"
                        rows="5"
                    ></textarea>
                </div>
            </div>

            <button type="button" id="analyzeBtn" class="analyze-btn">
                <span id="btnText">Get AI Recommendation</span>
                <span id="loadingSpinner" class="spinner" style="display: none;">ü§î</span>
            </button>
        </div>

        <!-- Results Display -->
        <div class="results-container" id="resultsContainer" style="display: none;">

            <div class="recommendation-header">
            <div class="recommendation-badge" id="recommendationBadge">
                <span class="recommendation-icon" id="recommendationIcon">ü§î</span>
                <span class="recommendation-text-new" id="recommendationTextNew">Analyzing...</span>
            </div>
        
            <div class="confidence-circle">
                <svg class="progress-ring" width="80" height="80">
                <circle class="progress-ring-circle" cx="40" cy="40" r="30"></circle>
                <circle class="progress-ring-fill" id="progressRingFill" cx="40" cy="40" r="30"></circle>
                </svg>
                <div class="confidence-number" id="confidenceNumber">0%</div>
            </div>
            </div>
        
            <div class="analysis-block">
            <h4>üß† Analysis</h4>
            <div class="analysis-paragraph" id="reasoningText">
                <!-- Detailed reasoning will appear here -->
            </div>
            </div>
        
            <div class="analysis-block">
            <h4>üìå Key Factors</h4>
            <ul id="keyFactorsList" class="key-factors-list">
                <!-- Key points will go here -->
            </ul>
            </div>
        
            <div class="analysis-block">
            <h4>üí° Additional Suggestions</h4>
            <div id="extraAdvice" class="extra-suggestions">
                <!-- Suggestions or tips -->
            </div>
            </div>
        
            <div class="actions">
            <button type="button" id="newDecisionBtn" class="secondary-btn">
                Make Another Decision
            </button>
            <button type="button" id="saveDecisionBtn" class="primary-btn">
                Save Decision
            </button>
            </div>
        </div>
  

        <!-- Decision History -->
        <div class="history-container" id="historyContainer" style="display: none;">
            <h3>Decision History</h3>
            <div id="historyList" class="history-list">
                <!-- Saved decisions will appear here -->
            </div>
        </div>
    </div>

    <!-- Load configuration and main script -->
    <script src="config.js"></script>
    <script src="script.js"></script>
    
    <!-- Debug script to check initialization -->
    <script>
        // Debug information
        window.addEventListener('load', function() {
            console.log('üîç Page fully loaded');
            console.log('üîç CONFIG available:', !!window.CONFIG);
            console.log('üîç DecisionMaker available:', !!window.decisionMaker);
            
            // Check if button exists and has event listener
            const btn = document.getElementById('analyzeBtn');
            console.log('üîç Analyze button found:', !!btn);
            
            if (btn) {
                // Test button click manually
                setTimeout(() => {
                    console.log('üß™ Testing button click...');
                    btn.click();
                }, 2000);
            }
        });
        
        // Manual button test function for debugging
        function testButton() {
            console.log('üß™ Manual button test triggered');
            if (window.decisionMaker) {
                window.decisionMaker.analyzeDecision();
            } else {
                console.error('‚ùå DecisionMaker not initialized');
            }
        }
    </script>
</body>
</html>